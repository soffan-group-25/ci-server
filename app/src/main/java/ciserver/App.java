/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package ciserver;

import com.google.gson.Gson;

public class App {
    public String getGreeting() {
        return "Hello World!";
    }

    public static void main(String[] args) {
        System.out.println(new App().getGreeting());

        var gson = new Gson();
        var data = "{  \"ref\": \"refs/heads/f/add-compiling-repo\",  \"before\": \"0000000000000000000000000000000000000000\",  \"after\": \"74447f1c9bf6016361a6f64e6e1872250f8fee7f\",  \"repository\": {    \"id\": 596497509,    \"node_id\": \"R_kgDOI43UZQ\",    \"name\": \"ci-server\",    \"full_name\": \"soffan-group-25/ci-server\",    \"private\": false,    \"owner\": {      \"name\": \"soffan-group-25\",      \"email\": null,      \"login\": \"soffan-group-25\",      \"id\": 123762281,      \"node_id\": \"O_kgDOB2B2aQ\",      \"avatar_url\": \"https://avatars.githubusercontent.com/u/123762281?v=4\",      \"gravatar_id\": \"\",      \"url\": \"https://api.github.com/users/soffan-group-25\",      \"html_url\": \"https://github.com/soffan-group-25\",      \"followers_url\": \"https://api.github.com/users/soffan-group-25/followers\",      \"following_url\": \"https://api.github.com/users/soffan-group-25/following{/other_user}\",      \"gists_url\": \"https://api.github.com/users/soffan-group-25/gists{/gist_id}\",      \"starred_url\": \"https://api.github.com/users/soffan-group-25/starred{/owner}{/repo}\",      \"subscriptions_url\": \"https://api.github.com/users/soffan-group-25/subscriptions\",      \"organizations_url\": \"https://api.github.com/users/soffan-group-25/orgs\",      \"repos_url\": \"https://api.github.com/users/soffan-group-25/repos\",      \"events_url\": \"https://api.github.com/users/soffan-group-25/events{/privacy}\",      \"received_events_url\": \"https://api.github.com/users/soffan-group-25/received_events\",      \"type\": \"Organization\",      \"site_admin\": false    },    \"html_url\": \"https://github.com/soffan-group-25/ci-server\",    \"description\": null,    \"fork\": false,    \"url\": \"https://github.com/soffan-group-25/ci-server\",    \"forks_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/forks\",    \"keys_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/keys{/key_id}\",    \"collaborators_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/collaborators{/collaborator}\",    \"teams_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/teams\",    \"hooks_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/hooks\",    \"issue_events_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/issues/events{/number}\",    \"events_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/events\",    \"assignees_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/assignees{/user}\",    \"branches_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/branches{/branch}\",    \"tags_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/tags\",    \"blobs_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/git/blobs{/sha}\",    \"git_tags_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/git/tags{/sha}\",    \"git_refs_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/git/refs{/sha}\",    \"trees_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/git/trees{/sha}\",    \"statuses_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/statuses/{sha}\",    \"languages_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/languages\",    \"stargazers_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/stargazers\",    \"contributors_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/contributors\",    \"subscribers_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/subscribers\",    \"subscription_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/subscription\",    \"commits_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/commits{/sha}\",    \"git_commits_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/git/commits{/sha}\",    \"comments_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/comments{/number}\",    \"issue_comment_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/issues/comments{/number}\",    \"contents_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/contents/{+path}\",    \"compare_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/compare/{base}...{head}\",    \"merges_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/merges\",    \"archive_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/{archive_format}{/ref}\",    \"downloads_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/downloads\",    \"issues_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/issues{/number}\",    \"pulls_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/pulls{/number}\",    \"milestones_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/milestones{/number}\",    \"notifications_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/notifications{?since,all,participating}\",    \"labels_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/labels{/name}\",    \"releases_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/releases{/id}\",    \"deployments_url\": \"https://api.github.com/repos/soffan-group-25/ci-server/deployments\",    \"created_at\": 1675332482,    \"updated_at\": \"2023-02-02T13:51:43Z\",    \"pushed_at\": 1675454933,    \"git_url\": \"git://github.com/soffan-group-25/ci-server.git\",    \"ssh_url\": \"git@github.com:soffan-group-25/ci-server.git\",    \"clone_url\": \"https://github.com/soffan-group-25/ci-server.git\",    \"svn_url\": \"https://github.com/soffan-group-25/ci-server\",    \"homepage\": null,    \"size\": 76,    \"stargazers_count\": 0,    \"watchers_count\": 0,    \"language\": \"Java\",    \"has_issues\": true,    \"has_projects\": true,    \"has_downloads\": true,    \"has_wiki\": true,    \"has_pages\": false,    \"has_discussions\": false,    \"forks_count\": 0,    \"mirror_url\": null,    \"archived\": false,    \"disabled\": false,    \"open_issues_count\": 18,    \"license\": null,    \"allow_forking\": true,    \"is_template\": false,    \"web_commit_signoff_required\": false,    \"topics\": [    ],    \"visibility\": \"public\",    \"forks\": 0,    \"open_issues\": 18,    \"watchers\": 0,    \"default_branch\": \"main\",    \"stargazers\": 0,    \"master_branch\": \"main\",    \"organization\": \"soffan-group-25\"  },  \"pusher\": {    \"name\": \"didrikmunther\",    \"email\": \"5240046+didrikmunther@users.noreply.github.com\"  },  \"organization\": {    \"login\": \"soffan-group-25\",    \"id\": 123762281,    \"node_id\": \"O_kgDOB2B2aQ\",    \"url\": \"https://api.github.com/orgs/soffan-group-25\",    \"repos_url\": \"https://api.github.com/orgs/soffan-group-25/repos\",    \"events_url\": \"https://api.github.com/orgs/soffan-group-25/events\",    \"hooks_url\": \"https://api.github.com/orgs/soffan-group-25/hooks\",    \"issues_url\": \"https://api.github.com/orgs/soffan-group-25/issues\",    \"members_url\": \"https://api.github.com/orgs/soffan-group-25/members{/member}\",    \"public_members_url\": \"https://api.github.com/orgs/soffan-group-25/public_members{/member}\",    \"avatar_url\": \"https://avatars.githubusercontent.com/u/123762281?v=4\",    \"description\": null  },  \"sender\": {    \"login\": \"didrikmunther\",    \"id\": 5240046,    \"node_id\": \"MDQ6VXNlcjUyNDAwNDY=\",    \"avatar_url\": \"https://avatars.githubusercontent.com/u/5240046?v=4\",    \"gravatar_id\": \"\",    \"url\": \"https://api.github.com/users/didrikmunther\",    \"html_url\": \"https://github.com/didrikmunther\",    \"followers_url\": \"https://api.github.com/users/didrikmunther/followers\",    \"following_url\": \"https://api.github.com/users/didrikmunther/following{/other_user}\",    \"gists_url\": \"https://api.github.com/users/didrikmunther/gists{/gist_id}\",    \"starred_url\": \"https://api.github.com/users/didrikmunther/starred{/owner}{/repo}\",    \"subscriptions_url\": \"https://api.github.com/users/didrikmunther/subscriptions\",    \"organizations_url\": \"https://api.github.com/users/didrikmunther/orgs\",    \"repos_url\": \"https://api.github.com/users/didrikmunther/repos\",    \"events_url\": \"https://api.github.com/users/didrikmunther/events{/privacy}\",    \"received_events_url\": \"https://api.github.com/users/didrikmunther/received_events\",    \"type\": \"User\",    \"site_admin\": false  },  \"created\": true,  \"deleted\": false,  \"forced\": false,  \"base_ref\": \"refs/heads/f/add-pulling-repo\",  \"compare\": \"https://github.com/soffan-group-25/ci-server/compare/f/add-compiling-repo\",  \"commits\": [  ],  \"head_commit\": {    \"id\": \"74447f1c9bf6016361a6f64e6e1872250f8fee7f\",    \"tree_id\": \"aba2254a611a4150902c3575394b6a392751e0e3\",    \"distinct\": true,    \"message\": \"Add proper javadoc for pull function\",    \"timestamp\": \"2023-02-03T20:59:10+01:00\",    \"url\": \"https://github.com/soffan-group-25/ci-server/commit/74447f1c9bf6016361a6f64e6e1872250f8fee7f\",    \"author\": {      \"name\": \"Didrik Munther\",      \"email\": \"dmu0817@gmail.com\",      \"username\": \"didrikmunther\"    },    \"committer\": {      \"name\": \"Didrik Munther\",      \"email\": \"dmu0817@gmail.com\",      \"username\": \"didrikmunther\"    },    \"added\": [    ],    \"removed\": [    ],    \"modified\": [      \"app/src/main/java/ciserver/Pipeline.java\"    ]  }}";
        var event = gson.fromJson(data, PushEvent.class);
        var pipeline = new Pipeline(event, "../pipeline"); // The relative directory is in the app folder, use `..` to
                                                           // go up
        var status = pipeline.start();

        System.err.printf("Status %s", status);

        // try {
        // ContinuousIntegrationServer.startServer();
        // } catch (Exception e) {
        // e.printStackTrace();
        // }
    }
}
